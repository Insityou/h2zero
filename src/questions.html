<!doctype html>
<html>
{import src/imports/head.templar}
<body>
	<div class="wrapper">
		{import src/imports/sidenav.templar}
		<section>
			{import src/imports/page-heading.templar}

			<p>Questions are simple SQL statements that return one, and only one boolean (true/false) value.</p>
			<p>This is a light-weight way to get a boolean answer to a question without using select beans or counters</p>
			<p>The key <code>questions</code> is a JSON Array on the <code>table</code> JSON object, for example:</p>

			<pre><code>
"tables": [{\n}
{\t}{{{\n}
{\t}{\t}"fields": [{\n}
{\t}{\t}{\t}...{\n}
{\t}{\t}],{\n}
{\t}{\t}"questions": [{\n}
{\t}{\t}{\t}...{\n}
{\t}{\t}]{\n}
{\t}}{\n}
]{\n}
			</pre></code>

			{import src/imports/tables/allowable-keys-table.templar}

			<h4>Example 1: Simple Question</h4>

			<pre><code>
"questions": [{\n}
{\t}{{{\n}
{\t}"name": "doWeHaveMoreThanTwentyUsers",{\n}
{\t}"selectClause": "select count(*) > 20 from user"{\n}
{\t}}{\n}
]{\n}
			</pre></code>

			<p>Whilst rather contrived, this will return a true/false answer as to whether we have more than 20 users.</p>

			<p>
				The code that is generated for the above question resides in the following 
				file location.
			</p>

			{set linkUserQuestion as code}
			{import src/imports/links/link-to-code.templar}

			<p>
				With the following method signatures
			</p>

			<pre>
				<code>
public static boolean doWeHaveMoreThanTwentyUsers() throws H2ZeroFinderException, SQLException{\n}
public static boolean doWeHaveMoreThanTwentyUsersSilent(){\n}
				</code>
			</pre>


			<p>You may also use a <code>whereClause</code> and <code>whereFields</code> if you wish to pass in additional parameters.</p>

			<h4>Example 2: Parameterised Question</h4>

			<pre><code>
"questions": [{\n}
{\t}{{{\n}
{\t}{\t}"name": "doesUserNameExist",{\n}
{\t}{\t}"selectClause": "select count(*) > 0 from user",{\n}
{\t}{\t}"whereClause": "where nm_user = ?",{\n}
{\t}{\t}"whereFields": [{\n}
{\t}{\t}{\t}"nm_user"{\n}
{\t}{\t}]{\n}
{\t}}{\n}
]{\n}
			</pre></code>

			<p>
				In the above example, the question being asked is whether a particular username 
				exists in the user table.  If it does, the return value is 
				<code>true</code> else <code>false</code>.
			</p>

			<p>
				The code that is generated for the above question resides in the following 
				file location.
			</p>

			{set linkUserQuestion as code}
			{import src/imports/links/link-to-code.templar}

			<p>
				With the following method signatures
			</p>

			<pre>
				<code>
public static boolean doesUserNameExist() throws H2ZeroFinderException, SQLException{\n}
public static boolean doesUserNameExistSilent(){\n}
				</code>
			</pre>

			<h4>Example 3: Parameterised Question with dual parameter query</h4>

			<pre><code>
"questions": [{\n}
{\t}{{{\n}
{\t}{\t}"name": "doWeHaveUsersBetweenAgeExclusive",{\n}
{\t}{\t}"selectClause": "select count(*) &gt; 0 from user",{\n}
{\t}{\t}"whereClause": "where num_age &gt; ? and num_age &lt; ?",{\n}
{\t}{\t}"whereFields": [{\n}
{\t}{\t}{\t}{{ "name": "num_age", "alias": "numAgeFrom" },{\n}
{\t}{\t}{\t}{{ "name": "num_age", "alias": "numAgeTo" }{\n}
{\t}{\t}]{\n}
{\t}}{\n}
]{\n}
			</pre></code>

			<p>
				In the above example, the question being asked is whether we have users 
				between two ages that are passed in as aprameters.  If we do, the return 
				value is <code>true</code> else <code>false</code>.
			</p>

			<p>
				The code that is generated for the above question resides in the following 
				file location.
			</p>

			{set linkUserQuestion as code}
			{import src/imports/links/link-to-code.templar}

			<p>
				With the following method signatures
			</p>

			<pre>
				<code>
public static boolean doWeHaveUsersBetweenAgeExclusive(Integer numAgeFrom, Integer numAgeTo) throws H2ZeroFinderException, SQLException{\n}
public static boolean doWeHaveUsersBetweenAgeExclusiveSilent(Integer numAgeFrom, Integer numAgeTo){\n}
				</code>
			</pre>

		</section>
		{import src/imports/footer.templar}
	</div>
	<script src="javascripts/scale.fix.js"></script>

</body>
</html>