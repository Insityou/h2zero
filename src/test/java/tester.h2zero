{
"options": {
	"logging": "log4j",
	"statistics": false,
	"generators": [ "java", "sql", "taglib" ]
},
"database": {
	"schema": "tester",
	"package": "tester.viewer.h2zero",
	"tables": [
		{
			"name": "entity_type",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_entity_type", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "cd_entity_type", "type": "varchar", "length": 1, "nullable": false },
				{ "name": "nm_entity_type", "type": "varchar", "length": 16, "nullable": false },
				{ "name": "colour_entity_type", "type": "varchar", "length": 8, "nullable": false }
			],
			"constants": [
				{ "name": "USER", "values": [ 0, "u", "individual", "#e51616" ] },
				{ "name": "ATTRIBUTE", "values": [ 1, "t", "attribute", "#C19AD9" ] },
				{ "name": "ARCHITECTURE", "values": [  2, "a", "architecture", "#C0C0C0" ] },
				{ "name": "PROJECT", "values": [  3, "p", "project", "#FEB729" ] },
				{ "name": "DEPARTMENT", "values": [  4, "d", "department", "#003366" ] },
				{ "name": "ZONE", "values": [  5, "z", "zone", "#663399" ] },
				{ "name": "TYPE", "values": [  6, "y", "type", "#6699FF" ] }
			],
			"finders": [
			]
		},
		{
			"name": "relationship_type",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_relationship_type", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "cd_relationship_type", "type": "varchar", "length": 2, "nullable": false },
				{ "name": "id_entity_type_from", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "entity_type", 
						"field": "id_entity_type" 
					}
				},
				{ "name": "id_entity_type_to", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "entity_type", 
						"field": "id_entity_type" 
					}
				},
				{ "name": "nm_relationship_type", "type": "varchar", "length": 32, "nullable": false },
			],
			"constants": [
				{ "name": "USER_USER_RELATIONSHIP", "values": [ 0, "uu", 0, 0, "user to user" ] },
				{ "name": "USER_PROJECT_RELATIONSHIP", "values": [ 1, "up", 0, 3, "user to project" ] },
				{ "name": "USER_ATTRIBUTE_RELATIONSHIP", "values": [ 2, "ua", 0, 1, "user to attribute" ] },
				{ "name": "USER_DEPARTMENT_RELATIONSHIP", "values": [ 3, "ud", 0, 4, "user to department" ] },
				{ "name": "PROJECT_PROJECT_RELATIONSHIP", "values": [ 4, "pp", 3, 3, "project to project" ] },
				{ "name": "PROJECT_ARCHITECTURE_RELATIONSHIP", "values": [ 5, "pa", 3, 2, "project to architecture" ] },
				{ "name": "PROJECT_ATTRIBUTE_RELATIONSHIP", "values": [ 6, "pt", 3, 1, "project to attribute" ] },
				{ "name": "DEPARTMENT_DEPARTMENT_RELATIONSHIP", "values": [ 7, "dd", 4, 4, "department to department" ] },
				{ "name": "DEPARTMENT_ARCHITECTURE_RELATIONSHIP", "values": [ 8, "da", 4, 2, "department to architecture" ] },
				{ "name": "USER_ZONE_RELATIONSHIP", "values": [ 9, "uz", 1, 5, "user to zone" ] },
				{ "name": "DEPARTMENT_ZONE_RELATIONSHIP", "values": [ 10, "dz", 4, 5, "department to zone" ] },
				{ "name": "PROJECT_ZONE_RELATIONSHIP", "values": [ 11, "pz", 3, 5, "project to zone" ] },
				{ "name": "PROJECT_TYPE_RELATIONSHIP", "values": [ 12, "py", 3, 6, "project to type" ] }
			],
			"finders": [
			]
		},
		{
			"name": "access_level",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_access_level", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_access_level", "type": "varchar", "length": 50, "nullable": false },
			],
			"constants": [
				{ "name": "STrATEGIC", "values": [ 1, "strategic" ] },
				{ "name": "MANAGER", "values": [ 2, "manager" ] },
				{ "name": "INDIVIDUAL", "values": [  3, "individual" ] }
			],
			"finders": [
			]
		},
		{
			"name": "person",
			"fields": [
				{ "name": "id_person", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_access_level", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "access_level", 
						"field": "id_access_level" 
					}
				},
				{ "name": "id_department", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department"
					}
				},
				{ "name": "nm_person", "type": "varchar", "length": 100, "nullable": false },
				{ "name": "txt_address_email", "type": "varchar", "length": 255, "nullable": false, "index": true, "unique": true, "validator": "EmailFormField", "minLength": 3 },
				{ "name": "txt_digested_password", "type": "varchar", "length": 32, "nullable": false },
				{ "name": "txt_salt", "type": "varchar", "length": 32, "nullable": false},
				{ "name": "txt_forgotten_password", "type": "varchar", "length": 36, "nullable": true },
				{ "name": "dtm_forgotten_timeout", "type": "datetime", "nullable": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false, "default": "'(0;0;0)'" },
				{ "name": "flt_importance", "type": "float", "nullable": false, "length":3, "decimalLength": 2, "default": "'0.5'" },
				{ "name": "flt_size", "type": "float", "nullable": false, "length":4, "decimalLength": 3, "default": "'0.001'"},
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'" },
				{ "name": "fl_is_entity", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'"  },
				{ "name": "num_colour_r", "type": "int", "nullable": false, "default": "'192'" },
				{ "name": "num_colour_g", "type": "int", "nullable": false, "default": "'192'" },
				{ "name": "num_colour_b", "type": "int", "nullable": false, "default": "'192'" }		
			]
		},
		{
			"name": "project",
			"comment": "the project",
			"fields": [
				{ "name": "id_project", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_project", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false },
				{ "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "num_size", "type": "int", "length": 125, "nullable": false},
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false},
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }
			],
			"finders": [
				{
					"name": "findByProjectSize",
					"selectClause": "select Project_Size from ( select Project, sum(Size) as Project_Size from( select up.id_project as Project, (select u.num_size/(select count(id_user_project) from user_project where id_user= u.id_user) from user where id_user = u.id_user) as Size from project p, user_project up, user u where p.id_project = up.id_project and u.id_user = up.id_user group by u.id_user, up.id_project)a group by Project)b", 
					"selectFields": [ 
										{ "name": "Project_Size", type: "int"}
									],
					"whereClause": "where Project = ?",
					"whereFields": [ "id_project" ],	
					"unique": true
				}	
			
			]
		},
		{
			"name": "scenario",
			"comment": "scenarios",
			"fields": [
				{ "name": "id_scenario", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "person", 
						"field": "id_person"
					}
				 },
				{ "name": "nm_scenario", "type": "varchar", "length": 125, "nullable": false},
				{ "name": "dtm_created", "type": "datetime", "nullable": false, "unique": false, "index": false }
			],
			"finders": [	
				{
					"name": "findByScenario",
					"whereClause": "where id_scenario = ?",
					"whereFields": [ "id_scenario" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_creator = ?",
					"whereFields": [ "id_creator" ],
					"unique": false
				}
			]
		},
		{
			"name": "s_project",
			"comment": "the project",
			"fields": [
				{ "name": "id_project", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_scenario", "type": "bigint", "nullable": true, 
					"foreign": { 
						"table": "scenario", 
						"field": "id_scenario" 
					}
				},
				{ "name": "nm_project", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false, "default": "'(0;0;0)'" },
				{ "name": "flt_importance", "type": "float", "nullable": false, "length":3, "decimalLength": 2, "default": "'0.5'" },
				{ "name": "flt_size", "type": "float", "nullable": false, "length":4, "decimalLength": 3, "default": "'0.001'"},
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'"},
				{ "name": "num_colour_r", "type": "int", "nullable": false, "default": "'192'" },
				{ "name": "num_colour_g", "type": "int", "nullable": false, "default": "'192'" },
				{ "name": "num_colour_b", "type": "int", "nullable": false, "default": "'192'" }
			],
			"finders": [
				{
					"name": "findByProjectSize",
					"selectClause": "select Project_Size from ( select Project, sum(Size) as Project_Size from( select up.id_project as Project, (select u.num_size/(select count(id_person_project) from s_person_project where id_person= u.id_person) from s_person where id_person = u.id_person) as Size from s_project p, s_person_project up, s_person u where p.id_project = up.id_project and u.id_person = up.id_person group by u.id_person, up.id_project)a group by Project)b", 
					"selectFields": [ 
										{ "name": "Project_Size", type: "float"}
									],
					"whereClause": "where Project = ?",
					"whereFields": [ "id_project" ],	
					"unique": true
				},
				{
					"name": "findByScenario",
					"whereClause": "where id_scenario = ?",
					"whereFields": [ "id_scenario" ],
					"unique": false
				}
			],
			"inserters": [
				{
					"name": "insertFromProject",
					"insertClause": "insert into s_project(id_scenario, nm_project, txt_coords_xyz, flt_importance, flt_size, fl_is_fixed, num_colour_r, num_colour_g, num_colour_b)",
					"selectClause": "select ?, nm_project, txt_coords_xyz, flt_importance, flt_size, fl_is_fixed, num_colour_r, num_colour_g, num_colour_b from project",
					"selectFields": [
						{ "name": "id_secenario", type: "bigint" }
					]
				}
			]
		},
		{
			"name": "architecture",
			"comment": "architecture entities",
			"fields": [
				{ "name": "id_architecture", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_architecture", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false },
				{ "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20},
				{ "name": "num_size", "type": "int", "length": 125, "nullable": false, "default": "'0'" },
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false, "default": "'1'" },
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }
			]
		},
		{
			"name": "department",
			"comment": "department entities",
			"fields": [
				{ "name": "id_department", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_department_parent", "type": "bigint", "nullable": true, 
					"foreign": { 
						"table": "department", 
						"field": "id_department" 
					}
				},
				{ "name": "nm_department", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false },
				{ "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "num_size", "type": "int", "length": 125, "nullable": false},
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false},
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false },
				{ "name": "fl_is_clustered", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'"}
			],
			"finders": [
				{
					"name": "findByIsParentDepartment",
					"whereClause": "where id_department_parent = ?",
					"whereFields": [ "id_department_parent" ],
					"unique": false
				},
				{
					"name": "findByFlIsClustered",
					"whereClause": "where fl_is_clustered = ?",
					"whereFields": [ "fl_is_clustered" ],
					"unique": false
				}
			]
		},
		{
			"name": "user",
			"fields": [
				{ "name": "id_user", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_access_level", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "access_level", 
						"field": "id_access_level" 
					}
				},
				{ "name": "id_department", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department"
					}
				},
				{ "name": "nm_user", "type": "varchar", "length": 100, "nullable": false },
				{ "name": "txt_address_email", "type": "varchar", "length": 255, "nullable": false, "index": true, "unique": true, "validator": "EmailFormField", "minLength": 3 },
				{ "name": "txt_digested_password", "type": "varchar", "length": 32, "nullable": false },
				{ "name": "txt_salt", "type": "varchar", "length": 32, "nullable": false},
				{ "name": "txt_forgotten_password", "type": "varchar", "length": 36, "nullable": true },
				{ "name": "dtm_forgotten_timeout", "type": "datetime", "nullable": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false },
				{ "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "num_size", "type": "int", "length": 125, "nullable": false },
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "fl_is_entity", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdUser",
					"whereClause": "where id_user = ?",
					"whereFields": [ "id_user" ],
					"unique": false
				},
				{
					"name": "findByTxtForgottenPasswordInLastTwoHours",
					"whereClause": "where txt_forgotten_password = ? and dtm_forgotten_timeout > date_sub(now(), interval 2 hour)",
					"whereFields": [ "txt_forgotten_password" ],
					"unique": true
				},
				{
					"name": "findByTxtAddressEmail",
					"whereClause": "where txt_address_email = ?",
					"whereFields": [ "txt_address_email" ],
					"unique": true
				},
				{
					"name": "findByFlIsEntity",
					"whereClause": "where fl_is_entity = ?",
					"whereFields": [ "fl_is_entity" ],
					"unique": false
				},
				{
					"name": "findByUserSize",
					"selectClause": "select num_size from user ",
					"selectFields": [ 
										{ "name": "num_size", type: "int"},
									],
					"whereClause": "where id_user = ?",
					"whereFields": [ "id_user" ],
					"unique": true
				},
				{
					"name": "findByDepartment",
					"whereClause": "where id_department = ?",
					"whereFields": [ "id_department" ],
					"unique": false
				},
				{
					"name": "findByDepartmentAssociation",
					"selectClause": "select u.id_user from user u, manager_department m, department d ",
					"selectFields": [ 
										{ "name": "idUser", type: "bigint"},
									],
					"whereClause": "where m.id_department=d.id_department and u.id_department=m.id_department and m.id_manager = ?",
					"whereFields": [ "manager_department.id_manager" ],
					"unique": false
				}
			],
			"deleters": [
			],
			"updaters": [
			]
		},
		{
			"name": "attribute",
			"comment": "user attributes (skills/proficiencies/expertise etc.)",
			"fields": [
				{ "name": "id_attribute", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_attribute", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false, "default": "'0;0;0'" },
				{ "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20},
				{ "name": "num_size", "type": "int", "length": 125, "nullable": false, "default": "'0'"},
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false},
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }
			]
		},	
		{
			"name": "type",
			"comment": "types of projects",
			"fields": [
				{ "name": "id_type", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_type", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
				{ "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false, "default": "'0;0;0'" },
				{ "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20},
				{ "name": "num_size", "type": "int", "length": 125, "nullable": false, "default": "'0'"},
				{ "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false},
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }				
			],
			"finders": [
				{
					"name": "findByIdType",
					"whereClause": "where id_type = ?",
					"whereFields": [ "id_type" ],
					"unique": false
				},
				{
					"name": "findAllSortedByNmType",
					"orderBy": "nm_type",
					"unique": false
				}
			]
			
		},
		{
			"name": "zone",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_zone", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_zone", "type": "varchar", "length": 128, "nullable": false },
				{ "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }
			],
			"finders": [
			]
		},	
		{
			"name": "department_architecture_relationship",
			"comment": "relationship between dept and archi. department is the source node, architecture is the destination",
			"fields": [
				{ "name": "id_department_architecture_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_department_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department" 
					}
				},
				{ "name": "id_architecture_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "architecture", 
						"field": "id_architecture"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdArchitectureDestination",
					"whereClause": "where id_architecture_destination = ?",
					"whereFields": [ "id_architecture_destination" ],
					"unique": false
				},
				{
					"name": "findByIdDepartmentSource",
					"whereClause": "where id_department_source = ?",
					"whereFields": [ "id_department_source" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_department_architecture_relationship=? and id_creator = ?",
					"whereFields": [ "id_department_architecture_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_department_architecture_relationship from department_architecture_relationship ", 
					"selectFields": [ 
										{ "name": "Id", type: "bigint"}
									],
					"whereClause": "where id_department_source = ? and id_architecture_destination = ?",
					"whereFields": [ "id_department_source", "id_architecture_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "department_department_relationship",
			"comment": "relationship between dept and dept",
			"fields": [
				{ "name": "id_department_department_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_department_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department" 
					}
				},
				{ "name": "id_department_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdDepartmentDestination",
					"whereClause": "where id_department_destination = ?",
					"whereFields": [ "id_department_destination" ],
					"unique": false
				},
				{
					"name": "findByIdDepartmentSource",
					"whereClause": "where id_department_source = ?",
					"whereFields": [ "id_department_source" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_department_department_relationship=? and id_creator = ?",
					"whereFields": [ "id_department_department_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_department_department_relationship from department_department_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_department_source = ? and id_department_destination = ?",
					"whereFields": [ "id_department_source", "id_department_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "project_architecture_relationship",
			"comment": "relationship between project and architecture",
			"fields": [
				{ "name": "id_project_architecture_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_project_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project" 
					}
				},
				{ "name": "id_architecture_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "architecture", 
						"field": "id_architecture"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdProjectSource",
					"whereClause": "where id_project_source = ?",
					"whereFields": [ "id_project_source" ],
					"unique": false
				},
				{
					"name": "findByIdArchitectureDestination",
					"whereClause": "where id_architecture_destination = ?",
					"whereFields": [ "id_architecture_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_project_architecture_relationship=? and id_creator = ?",
					"whereFields": [ "id_project_architecture_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_project_architecture_relationship from project_architecture_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_project_source = ? and id_architecture_destination = ?",
					"whereFields": [ "id_project_source", "id_architecture_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "project_attribute_relationship",
			"comment": "relationship between project and attributes",
			"fields": [
				{ "name": "id_project_attribute_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_project_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project" 
					}
				},
				{ "name": "id_attribute_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "attribute", 
						"field": "id_attribute"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdProjectSource",
					"whereClause": "where id_project_source = ?",
					"whereFields": [ "id_project_source" ],
					"unique": false
				},
				{
					"name": "findByIdAttributeDestination",
					"whereClause": "where id_attribute_destination = ?",
					"whereFields": [ "id_attribute_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_project_attribute_relationship=? and id_creator = ?",
					"whereFields": [ "id_project_attribute_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_project_attribute_relationship from project_attribute_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_project_source = ? and id_attribute_destination = ?",
					"whereFields": [ "id_project_source", "id_attribute_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "project_project_relationship",
			"comment": "relationship between project and project",
			"fields": [
				{ "name": "id_project_project_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_project_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project" 
					}
				},
				{ "name": "id_project_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdProjectSource",
					"whereClause": "where id_project_source = ?",
					"whereFields": [ "id_project_source" ],
					"unique": false
				},
				{
					"name": "findByIdProjectDestination",
					"whereClause": "where id_project_destination = ?",
					"whereFields": [ "id_project_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_project_project_relationship=? and id_creator = ?",
					"whereFields": [ "id_project_project_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_project_project_relationship from project_project_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_project_source = ? and id_project_destination = ?",
					"whereFields": [ "id_project_source", "id_project_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "user_department_relationship",
			"comment": "relationship between user and department",
			"fields": [
				{ "name": "id_user_department_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_department_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdUserSource",
					"whereClause": "where id_user_source = ?",
					"whereFields": [ "id_user_source" ],
					"unique": false
				},
				{
					"name": "findByIdDepartmentDestination",
					"whereClause": "where id_department_destination = ?",
					"whereFields": [ "id_department_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_department_relationship=? and id_creator = ?",
					"whereFields": [ "id_user_department_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findAllByUserFlIsEntity",
					"whereClause": "where id_user_source in (select id_user from user where fl_is_entity = 1)",
					"unique": false
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_user_department_relationship from user_department_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_user_source = ? and id_department_destination = ?",
					"whereFields": [ "id_user_source", "id_department_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "user_attribute_relationship",
			"comment": "relationship between user and attribute",
			"fields": [
				{ "name": "id_user_attribute_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_attribute_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "attribute", 
						"field": "id_attribute"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdUserSource",
					"whereClause": "where id_user_source = ?",
					"whereFields": [ "id_user_source" ],
					"unique": false
				},
				{
					"name": "findByIdAttributeDestination",
					"whereClause": "where id_attribute_destination = ?",
					"whereFields": [ "id_attribute_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_attribute_relationship=? and id_creator = ?",
					"whereFields": [ "id_user_attribute_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findAllByUserFlIsEntity",
					"whereClause": "where id_user_source in (select id_user from user where fl_is_entity = 1)",
					"unique": false
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_user_attribute_relationship from user_attribute_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_user_source = ? and id_attribute_destination = ?",
					"whereFields": [ "id_user_source", "id_attribute_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "user_project_relationship",
			"comment": "users projects relationship",
			"fields": [
				{ "name": "id_user_project_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_project_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdUserSource",
					"whereClause": "where id_user_source = ?",
					"whereFields": [ "id_user_source" ],
					"unique": false
				},
				{
					"name": "findByIdProjectDestination",
					"whereClause": "where id_project_destination = ?",
					"whereFields": [ "id_project_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_project_relationship=? and id_creator = ?",
					"whereFields": [ "id_user_project_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findAllByUserFlIsEntity",
					"whereClause": "where id_user_source in (select id_user from user where fl_is_entity = 1)",
					"unique": false
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_user_project_relationship from user_project_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_user_source = ? and id_project_destination = ?",
					"whereFields": [ "id_user_source", "id_project_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "project_type_relationship",
			"comment": "relationship between projects and project types",
			"fields": [
				{ "name": "id_project_type_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_project_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project" 
					}
				},
				{ "name": "id_type_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "type", 
						"field": "id_type"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdProjectSource",
					"whereClause": "where id_project_source = ?",
					"whereFields": [ "id_project_source" ],
					"unique": false
				},
				{
					"name": "findByIdTypeDestination",
					"whereClause": "where id_type_destination = ?",
					"whereFields": [ "id_type_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_project_type_relationship = ? and id_creator = ?",
					"whereFields": [ "id_project_type_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_project_type_relationship from project_type_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_project_source = ? and id_type_destination = ?",
					"whereFields": [ "id_project_source", "id_type_destination" ],	
					"unique": true
				}	
			]
		},		
		{
			"name": "user_user_relationship",
			"comment": "relationship between user and user",
			"fields": [
				{ "name": "id_user_user_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_user_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdUserSource",
					"whereClause": "where id_user_source = ?",
					"whereFields": [ "id_user_source" ],
					"unique": false
				},
				{
					"name": "findByIdUserDestination",
					"whereClause": "where id_user_destination = ?",
					"whereFields": [ "id_user_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_user_relationship = ? and id_creator = ?",
					"whereFields": [ "id_user_user_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findAllByUserFlIsEntity",
					"whereClause": "where id_user_source in (select id_user from user where fl_is_entity=1)",
					"unique": false
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_user_user_relationship from user_user_relationship ", 
					"selectFields": [ 
						{ "name": "Id", type: "bigint"}
					],
					"whereClause": "where id_user_source = ? and id_user_destination = ?",
					"whereFields": [ "id_user_source", "id_user_destination" ],	
					"unique": true
				}
			]
		},
		{
			"name": "user_zone_relationship",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_user_zone_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_zone_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "zone", 
						"field": "id_zone" 
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdUserSource",
					"whereClause": "where id_user_source = ?",
					"whereFields": [ "id_user_source" ],
					"unique": false
				},
				{
					"name": "findByIdZoneDestination",
					"whereClause": "where id_zone_destination = ?",
					"whereFields": [ "id_zone_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_zone_relationship = ? and id_creator = ?",
					"whereFields": [ "id_user_zone_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_user_zone_relationship from user_zone_relationship ", 
					"selectFields": [ 
										{ "name": "Id", type: "bigint"}
									],
					"whereClause": "where id_user_source = ? and id_zone_destination = ?",
					"whereFields": [ "id_user_source", "id_zone_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "department_zone_relationship",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_department_zone_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_department_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "department", 
						"field": "id_department" 
					}
				},
				{ "name": "id_zone_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "zone", 
						"field": "id_zone" 
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdDepartmentSource",
					"whereClause": "where id_department_source = ?",
					"whereFields": [ "id_department_source" ],
					"unique": false
				},
				{
					"name": "findByIdZoneDestination",
					"whereClause": "where id_zone_destination = ?",
					"whereFields": [ "id_zone_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_department_zone_relationship = ? and id_creator = ?",
					"whereFields": [ "id_department_zone_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_department_zone_relationship from department_zone_relationship ", 
					"selectFields": [ 
										{ "name": "Id", type: "bigint"}
									],
					"whereClause": "where id_department_source = ? and id_zone_destination = ?",
					"whereFields": [ "id_department_source", "id_zone_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "project_zone_relationship",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_project_zone_relationship", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_project_source", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project" 
					}
				},
				{ "name": "id_zone_destination", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "zone", 
						"field": "id_zone" 
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 },
				{ "name": "flt_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "fl_is_attractive", "type": "tinyint", "length": 1, "nullable": false },
				{ "name": "num_distance", "type": "int", "nullable": false },
			],
			"finders": [
				{
					"name": "findByIdProjectSource",
					"whereClause": "where id_project_source = ?",
					"whereFields": [ "id_project_source" ],
					"unique": false
				},
				{
					"name": "findByIdZoneDestination",
					"whereClause": "where id_zone_destination = ?",
					"whereFields": [ "id_zone_destination" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_project_zone_relationship = ? and id_creator = ?",
					"whereFields": [ "id_project_zone_relationship", "id_creator" ],
					"unique": true
				},
				{
					"name": "findByDestinationAndSource",
					"selectClause": "select id_project_zone_relationship from project_zone_relationship ", 
					"selectFields": [ 
										{ "name": "Id", type: "bigint"}
									],
					"whereClause": "where id_project_source = ? and id_zone_destination = ?",
					"whereFields": [ "id_project_source", "id_zone_destination" ],	
					"unique": true
				}	
			]
		},
		{
			"name": "manager_department",
			"comment": "who manages what",
			"fields": [
				{ "name": "id_manager_department", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_manager", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_department", "type": "bigint", "nullable": true, 
					"foreign": { 
						"table": "department", 
						"field": "id_department"
					}
				}
			],
			"finders": [
				{
					"name": "findByIdManagerID",
					"whereClause": "where id_manager = ?",
					"whereFields": [ "id_manager" ],
					"unique": false
				},
				{
					"name": "findByIdDepartment",
					"whereClause": "where id_department = ?",
					"whereFields": [ "id_department" ],
					"unique": false
				}
			]
		},
		{
			"name": "project_type",
			"comment": "projects types",
			"fields": [
				{ "name": "id_project_type", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_project", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project" 
					}
				},
				{ "name": "id_type", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "type", 
						"field": "id_type"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 }
			],
			"finders": [
				{
					"name": "findByIdProject",
					"whereClause": "where id_project = ?",
					"whereFields": [ "id_project" ],
					"unique": false
				},
				{
					"name": "findByIdType",
					"whereClause": "where id_type = ?",
					"whereFields": [ "id_type" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_creator = ?",
					"whereFields": [ "id_creator" ],
					"unique": true
				}
			]
		},	
		{
			"name": "user_project",
			"comment": "users works on projects",
			"fields": [
				{ "name": "id_user_project", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_project", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "project", 
						"field": "id_project"
					}
				},
				{ "name": "flt_allocated", "type": "float", "nullable": false, "length": 25, "decimalLength": 20 },
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 }
			],
			"finders": [
				{
					"name": "findByIdUser",
					"whereClause": "where id_user = ?",
					"whereFields": [ "id_user" ],
					"unique": false
				},
				{
					"name": "findByIdProject",
					"whereClause": "where id_project = ?",
					"whereFields": [ "id_project" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_project=? and id_creator = ?",
					"whereFields": [ "id_user_project", "id_creator" ],
					"unique": true
				}
			]
		},
		{
			"name": "user_attribute",
			"comment": "what user has which attribute",
			"fields": [
				{ "name": "id_user_attribute", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "user", 
						"field": "id_user" 
					}
				},
				{ "name": "id_attribute", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "attribute", 
						"field": "id_attribute"
					}
				},
				{ "name": "id_creator", "type": "bigint", "nullable": true,
					"foreign": { 
						"table": "user", 
						"field": "id_user"
					}
				 }
			],
			"finders": [
				{
					"name": "findByIdUser",
					"whereClause": "where id_user = ?",
					"whereFields": [ "id_user" ],
					"unique": false
				},
				{
					"name": "findByIdAttribute",
					"whereClause": "where id_attribute = ?",
					"whereFields": [ "id_attribute" ],
					"unique": false
				},
				{
					"name": "findByIdCreator",
					"whereClause": "where id_user_attribute=? and id_creator = ?",
					"whereFields": [ "id_user_attribute", "id_creator" ],
					"unique": true
				}
			]
		},
		{
			"name": "plan",
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "id_plan", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_plan", "type": "varchar", "length": 50, "nullable": false},
				{ "name": "nm_plan_braintree", "type": "varchar", "length": 50, "nullable": false},
				{ "name": "flt_plan_amount", "type": "float", "nullable": false, "length": 6, "decimalLength": 2},
				{ "name": "fl_is_active", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'" }
			],
			"finders": [
				{
					"name": "findByOrderedPlanAmount",
					"orderBy": "flt_plan_amount desc",
					"cache": true
				},
				{
					"name": "findActiveByPrimaryKey",
					"whereClause": "where id_plan = ? and fl_is_active = 1",
					"whereFields": [ "id_plan" ]
				},
				{
					"name": "findAllActiveOrdered",
					"whereClause": "where fl_is_active = 1",
					"orderBy": "flt_plan_amount desc",
					"cache": true
				},
				{
					"name": "findByNmPlanBraintreeActive",
					"whereClause": "where nm_plan_braintree = ? and fl_is_active = 1",
					"whereFields": [ "nm_plan_braintree" ],
					"unique": true
				}
			]
		},
		{
			"name": "country",
			"cacheable": true,
			"cacheFindAll": true;
			"fields": [
				{ "name": "id_country", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "cd_country_iso", "type": "varchar", "length": 2, "nullable": false },
				{ "name": "nm_country_iso", "type": "varchar", "length": 256, "nullable": false },
				{ "name": "num_order_by", "type": "int", "nullable": false }
			],
			"finders": [
				{
					"name": "findByPopularity",
					"orderBy": "num_order_by desc, nm_country_iso"
				}
			],
			"updaters": [
				{
					"name": "updateNumOrderBy",
					"setClause": "num_order = num_order_by + 1",
					"whereClause": "where id_country = ?",
					"whereFields": [ "id_country" ]
				}
			]
		},
		{
			"name": "client",
			"fields": [
				{ "name": "id_client", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_plan", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "plan", 
						"field": "id_plan" 
					}
				},
				{ "name": "id_country", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "country", 
						"field": "id_country"
					}
				},
				{ "name": "nm_client_first", "type": "varchar", "length": 100, "nullable": false },
				{ "name": "nm_client_last", "type": "varchar", "length": 100, "nullable": false },
				{ "name": "txt_address_email", "type": "varchar", "length": 255, "nullable": false, "index": true, "unique": true, "validator": "EmailFormField", "minLength": 3 },
				{ "name": "txt_digested_password", "type": "varchar", "length": 32, "nullable": false },
				{ "name": "txt_salt", "type": "varchar", "length": 32, "nullable": false},
				{ "name": "txt_forgotten_password", "type": "varchar", "length": 36, "nullable": true },
				{ "name": "dtm_forgotten_timeout", "type": "datetime", "nullable": true },
				{ "name": "cd_client_uuid", "type": "varchar", "length": 36, "nullable": false, "index": true },
				{ "name": "txt_braintree_subscription_id", "type": "varchar", "length": 36, "nullable": true },
				{ "name": "fl_is_active", "type": "tinyint", "length": 1, "nullable": false, "default": "'1'"},
				{ "name": "fl_plugin_installed", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'" },
				{ "name": "fl_is_admin", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'"},
				{ "name": "nm_blog", "type": "varchar", "length": 255, "nullable": true },
				{ "name": "url_blog", "type": "varchar", "length": 1024, "nullable": true },
				{ "name": "num_server", "type": "int", "nullable": false },
				{ "name": "dtm_signup", "type": "datetime", "nullable": false }
			],
			"finders": [
				{
					"name": "findByTxtAddressEmail",
					"whereClause": "where txt_address_email = ?",
					"whereFields": [ "txt_address_email"],
					"unique": true
				},
				{
					"name": "findByCdClientUuid",
					"whereClause": "where cd_client_uuid = ?",
					"whereFields": [ "cd_client_uuid" ],
					"unique": true
				},
				{
					"name": "findByTxtForgottenPasswordInLastTwoHours",
					"whereClause": "where txt_forgotten_password = ? and dtm_forgotten_timeout > date_sub(now(), interval 2 hour)",
					"whereFields": [ "txt_forgotten_password" ],
					"unique": true
				}
			],
			"deleters": [
				{
					"name": "deleteByCdClientUuid",
					"whereClause": "where cd_client_uuid = ?",
					"whereFields": [ "cd_client_uuid" ]
				}
			],
			"updaters": [
				{
					"name": "deactivateClient",
					"setClause": "fl_is_active = 0",
					"whereClause": "where cd_client_uuid = ?",
					"whereFields": [ "cd_client_uuid" ]
				},
				{
					"name": "activateClient",
					"setClause": "fl_is_active = 1",
					"whereClause": "where cd_client_uuid = ?",
					"whereFields": [ "cd_client_uuid" ]
				}
			]
		},
		{
			"name": "client_blog_plugins",
			"fields": [
				{ "name": "id_client_blog_plugins", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_client", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "client", 
						"field": "id_client"
					}
				},
				{ "name": "nm_blog_plugin", "type": "varchar", "length": "1024", "nullable": false },
				{ "name": "txt_version", "type": "varchar", "length": 512, "nullable": false}
			]
		},
		{
			"name": "subscription_event",
			"fields": [
				{ "name": "id_subscription_event", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_client", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "client", 
						"field": "id_client"
					}
				},
				{ "name": "cd_subscription", "type": "varchar", "length": 256, "nullable": false },
				{ "name": "txt_desc_subscription_event", "type": "varchar", "length": 256, "nullable": false },
				{ "name": "dtm_subscription_event", "type": "datetime", "nullable": true }
			]
		},
		{
			"name": "client_plan_event",
			"fields": [
				{ "name": "id_client_plan_event", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_client", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "client", 
						"field": "id_client"
					}
				},
				{ "name": "id_plan_from", "type": "bigint", "nullable": true, 
					"foreign": { 
						"table": "plan", 
						"field": "id_plan"
					}
				},
				{ "name": "id_plan_to", "type": "bigint", "nullable": true, 
					"foreign": { 
						"table": "plan", 
						"field": "id_plan"
					}
				},
				{ "name": "nm_plan_braintree", "type": "varchar", "length": 50, "nullable": false },
				{ "name": "txt_desc_client_plan_event", "type": "varchar", "length": 256, "nullable": false },
				{ "name": "dtm_client_plan_event", "type": "datetime", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdClientReverseDate",
					"whereClause": "where id_client = ?",
					"whereFields": [ "id_client" ],
					"orderBy": "dtm_client_plan_event desc",
					"unique": false
				}
			]
		},
		{
			"name": "server",
			"fields": [
				{ "name": "id_server", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_server", "type": "varchar", "length": 128, "nullable": false },
				{ "name": "num_capacity", "type": "int", "nullable": false },
				{ "name": "num_clients", "type": "int", "nullable": false },
				{ "name": "fl_is_active", "type": "tinyint", "length": 1, "nullable": false, "default": "'1'" }
			],
			"finders": [
				{
					"name": "findNextServer",
					"selectClause": "select id_server, (num_capacity - num_clients) as num_capacity from server order by capacity desc limit 1",
					"selectFields": [
						{ "name": "id_server", "type": "bigint" },
						{ "name": "num_capacity", "type": "int" }
					],
					"unique": true
				}
			],
			"updaters": [
				{
					"name": "incrementServerNumber",
					"setClause": "num_clients = num_clients + 1",
					"whereClause": "where id_server = ?",
					"whereFields": [ "id_server" ]
				},
				{
					"name": "decrementServerNumber",
					"setClause": "num_clients = num_clients - 1",
					"whereClause": "where id_server = ?",
					"whereFields": [ "id_server" ]
				}
			]
		},
		{
			"name": "client_payment_info",
			"fields": [
				{ "name": "id_client_payment_info", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_client", "type": "bigint", "nullable": false, 
					"foreign": { 
						"table": "client", 
						"field": "id_client"
					}
				},
				{ "name": "fl_is_active", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'" },
				{ "name": "fl_sixty_days", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'" },
				{ "name": "fl_thirty_days", "type": "tinyint", "length": 1, "nullable": false, "default": "'0'" },
				{ "name": "txt_payment_info", "type": "varchar", "length": 16, "nullable": false },
				{ "name": "txt_braintree_payment_token", "type": "varchar", "length": 16, "nullable": false },
				{ "name": "dtm_payment_info_expiry", "type": "datetime", "nullable": false },
				{ "name": "dtm_payment_info", "type": "datetime", "nullable": false }
			],
			"finders": [
				{
					"name": "findByIdClientReverseDate",
					"whereClause": "where id_client = ?",
					"whereFields": [ "id_client" ],
					"orderBy": "dtm_payment_info desc",
					"unique": false
				},
				{
					"name": "findActiveByIdClient",
					"whereClause": "where fl_is_active = 1 and id_client = ?",
					"whereFields": [ "id_client" ],
					"unique": true
				},
				{
					"name": "findAllExpiryIn60Days",
					"whereClause": "where fl_is_active = 1 and fl_sixty_days = 0 and dtm_payment_info_expiry < timestamp(date_add(now(), interval 60 day))",
					"unique": false
				},
				{
					"name": "findAllExpiryIn30Days",
					"whereClause": "fl_is_active = 1 and fl_thirty_days = 0 and dtm_payment_info_expiry < timestamp(date_add(now(), interval 30 day))",
					"unique": false
				},
				
			],
			"updaters": [
				{
					"name": "update30DayExpiry",
					"setClause": "fl_thirty_days = 1",
					"whereClause": "where fl_is_active = 1 and fl_thirty_days = 0 and dtm_payment_info_expiry < timestamp(date_add(now(), interval 30 day))",
				},
				{
					"name": "update60DayExpiry",
					"setClause": "fl_sixty_days = 1",
					"whereClause": "where fl_is_active = 1 and fl_thirty_days = 1 and dtm_payment_info_expiry < timestamp(date_add(now(), interval 60 day))",
				},
				{
					"name": "setAllInactiveByIdClient",
					"setClause": "fl_is_active = 0",
					"whereClause": "where id_client = ?",
					"whereFields": [ "id_client" ]
				}
			],
			"deleters": [
				{
					"name": "deleteByTxtPaymentInfo",
					"whereClause": "where txt_payment_info = ?",
					"whereFields": [ "txt_payment_info" ]
				}
			]
		},
		{
			"name": "media_type",
			"cacheable": false,
			"cacheFindAll": false,
			"fields": [
				{ "name": "id_media_type", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_media_type", "type": "varchar", "length": "32", "nullable": false}
			],
			"constants": [
				{ "name": "BOOK", "values": [ 1, "book" ] },
				{ "name": "TV", "values": [ 2, "tv" ] },
				{ "name": "MOVIE", "values": [  3, "movie" ] }
			]
		},
		{
   "name": "project",
   "comment": "the project",
   "fields": [
    { "name": "id_project", "type": "bigint", "nullable": false, "primary": true },
    { "name": "nm_project", "type": "varchar", "length": 125, "nullable": false, "unique": true, "index": true },
    { "name": "txt_coords_xyz", "type": "varchar", "length": 125, "nullable": false },
    { "name": "dbl_importance", "type": "double", "nullable": false, "length": 25, "decimalLength": 20 },
    { "name": "num_size", "type": "int", "length": 125, "nullable": false},
    { "name": "fl_is_fixed", "type": "tinyint", "length": 1, "nullable": false},
    { "name": "cd_colour_css", "type": "varchar", "length": 7, "nullable": false }
   ],
   "finders": [
    {
     "name": "findByProjectSize",
     "selectClause": "select Project, sum(Size) from( select up.id_project as Project, (select u.num_size/(select count(id_user_project)from user_projectwhere id_user= u.id_user)from user where id_user = u.id_user) as Size from project p, user_project up, user u where p.id_project = up.id_project and u.id_user = up.id_user group by u.id_user, up.id_project)a group by Project", 
     "selectFields": [ 
          {"name": "Project_id", type:"bigint"},
          { "name": "Size", type: "int"}
         ],
     
     "unique": false
    } 
   
   ]
  },
	],
	"views": [
		{
			"name": "server_client_count",
			"asClause": "select num_server, count(num_server) as count from client group by num_server",
			"hashable": true,
			"cacheable": true,
			"cacheFindAll": true,
			"fields": [
				{ "name": "num_server", "type": "int" },
				{ "name": "count", "type": "bigint" }
			]
		}
	],
	"forms": [
		{
			"name": "SigninForm",
			"comment": "This is used for the signing in of the person, it has a pseudo field which doesn't exist within the database schema, namely txt_password.",
			"respondTo": "signin",
			"fields": [
				{ "ref": "txt_address_email" },
				{ "name": "txtPassword", "length": 20, "minLength": 6, "allowNull": false, "validator": "StringFormField" }
			]
		},
		{
			"name": "ContactUsForm",
			"comment": "This is used for contacting us",
			"respondTo": "contact",
			"fields": [
				{ "ref": "txt_address_email" },
				{ "name": "txt_subject", "length": 256, "minLength": 1, "allowNull": false, "validator": "StringFormField" },
				{ "name": "txt_details", "length": 2048, "minLength": 1, "allowNull": false, "validator": "StringFormField" }
			]
		}
	]
}
}