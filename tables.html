<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><title>h2zero by synapticloop</title><link rel="stylesheet" href="stylesheets/styles.css"><link rel="stylesheet" href="stylesheets/pygment_trac.css"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--></head><body><div class="wrapper"><header><h1>h2zero</h1><p>An Object Relationship Mapper (ORM) generator for Java, MySQL and optionally a J2EE container</p><hr /><h2>Navigation</h2><p>- <a href="index.html">Home</a><br />- <a href="quick-start.html">Quick Start</a><br />- <a href="database-naming-conventions.html">Database Naming Conventions</a><br />- <a href="generated-code.html">Generated Code</a><br />- <a href="method-signatures.html">Method Signatures</a><br /></p><hr /><p>- <a href="file-format.html">File Format</a><br />- <a href="options.html">Options</a><br />- <a href="database.html">Database</a><br />- <a href="tables.html">Tables</a><br />--- <a href="fields.html">Fields</a><br />--- <a href="finders.html">Finders</a><br />--- <a href="field-finders.html">Field Finders</a><br />--- <a href="deleters.html">Deleters</a><br />--- <a href="inserters.html">Inserters</a><br />--- <a href="updaters.html">Updaters</a><br />--- <a href="questions.html">Questions</a><br />--- <a href="counters.html">Counters</a><br />--- <a href="constants.html">Constants</a><br />- <a href="views.html">Views</a><br />--- <a href="view-finders.html">Finders</a><br />--- <a href="view-field-finders.html">Field Finders</a><br />--- <a href="view-questions.html">Questions</a><br />--- <a href="view-counters.html">Counters</a><br />- <a href="clauses-and-fields.html">Clauses and Fields</a><br />--- <a href="select-clauses.html">Select Clauses</a><br />--- <a href="select-fields.html">Select Fields</a><br />--- <a href="where-clauses.html">Where Clauses</a><br />--- <a href="where-fields.html">Where Fields</a><br />--- <a href="set-clauses.html">Set Clauses</a><br />--- <a href="set-fields.html">Set Fields</a><br /></p><hr /><p class="view"><a href="https://github.com/synapticloop/h2zero">View the Project on GitHub <small>synapticloop/h2zero</small></a></p><ul><li><a href="https://github.com/synapticloop/h2zero/zipball/master">Download <strong>ZIP File</strong></a></li><li><a href="https://github.com/synapticloop/h2zero/tarball/master">Download <strong>TAR Ball</strong></a></li><li><a href="https://github.com/synapticloop/h2zero">View On <strong>GitHub</strong></a></li></ul><p>This project is maintained by <a href="https://github.com/synapticloop">synapticloop</a> and these pages were generated with <a href="https://github.com/synapticloop/templar-gen/">synapticloop templar-gen</a></p></header><section><h3><a id="h2zero-pages" class="anchor" href="#h2zero-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tables.</h3><p>Tables are the base object that then generates the model objects for interaction through the java code.  As such  they are relatively straight-forward, the field definitions are the next important piece of the h2zero generation.</p><p>For each database schema, there must be a JSONArray keyed on <a href="tables.html"><code>tables</code></a> of JSONObjects</p><pre><code>"tables": [
	{
		"name": "user_type",
		...
	},
	{
		"name": "user",
		...
	},
]
</code></pre><p>Each table <strong>MUST</strong> have a key of <code>name</code> which will map to the database schema and model object in CamelCase naming conventions.</p><p>For example the <code>user_type</code> table name above will generate the following model object</p><p><em>The <code>user_type</code> table is a <u>Constant Model</u> and differs from normal other models in that constant tables cannot be updated, deleted or inserted into as they are pre-generated by h2zero.</em></p><ul><li><a href="src/main/java/synapticloop/sample/h2zero/model/UserType.java"><code>src/main/java/synapticloop/sample/h2zero/model/UserType.java</code></a></li></ul><p>The <code>user</code> table name above will generate the following model object</p><ul><li><a href="src/main/java/synapticloop/sample/h2zero/model/User.java"><code>src/main/java/synapticloop/sample/h2zero/model/User.java</code></a></li></ul><p><em>The <code>user</code> table is a <u>Regular Model</u> object that maps to the underlying MySQL table and h2zero will allow generation of all create, read, update and delete (CRUD) methods.</em></p><h4>Models in General</h4><p>Models come in two flavours, regular and constant.  They both share some base features and functionality asdetailed below:</p><p><strong>BINDER</strong></p><pre><code>// the binder is unused in code, but will generate compile problems if this 
// class is no longer referenced in the h2zero file. Just a nicety for
// removing dead code
@SuppressWarnings("unused")
private static final String BINDER = Constants.USER_TYPE_binder;
</code></pre><p>As mentioned in the comments above the field, the <code>BINDER</code> is only used as a compile time error so that dead code can be removed.  Most of the generated code contains this code that references the constant. This will ensure that when model names are changed, or any of tyhe interaction names are changed (e.g. finders, questions, counters etc.) </p><p><strong>PRIMARY_KEY_FIELD</strong></p><pre><code>public static final String PRIMARY_KEY_FIELD = "id_user_type";
</code></pre><p>This is a reference to the primary key field in the database.  Every table (and therefore every model) must have a primary key on it.</p><p><strong>Member variable declarations</strong></p><p>Each field that is attached to the table will generate a declaration.</p><pre><code>private Long idUserType = null;
private String nmUserType = null;
</code></pre><p><strong>Constructor</strong></p><p>Every model has a constructor with a signature that contains all of the fields.  Despite the fact that you cannot create new constants, the constant models still include a constructor for use with finders, counters and questions.</p><pre><code>public UserType(Long idUserType, String nmUserType) {
	this.idUserType = idUserType;
	this.nmUserType = nmUserType;
}
</code></pre><p><strong>Getters</strong></p><pre><code>/*
 * Boring ol' getters and setters 
 */

public Long getIdUserType() {return(this.idUserType);}
public String getNmUserType() {return(this.nmUserType);}
</code></pre><p>Getters are generated (in condensed format) for each field on the table.  No setters are generated for constant models as you may not change constants.</p><p><strong>String methods</strong></p><pre><code>public String toString() {
	StringBuilder stringBuilder = new StringBuilder();
	stringBuilder.append("Model[UserType]\n");
	stringBuilder.append("  Field[idUserType:" + this.idUserType + "]\n");
	stringBuilder.append("  Field[nmUserType:" + this.nmUserType + "]\n");
	return(stringBuilder.toString());
}

public String toJsonString() {
	// !!! work in progress !!!
	StringBuilder stringBuilder = new StringBuilder();
	stringBuilder.append("{\n");
	stringBuilder.append("  \"model\": {\n");
	stringBuilder.append("    \"name\": \"UserType\",\n");
	stringBuilder.append("    \"fields\": [\n");
	stringBuilder.append("     { \"name\": \"idUserType\", \"value\": " + this.idUserType + " }, \n");
	stringBuilder.append("     { \"name\": \"nmUserType\", \"value\": \"" + this.nmUserType + "\" }\n");
	stringBuilder.append("    ]\n");
	stringBuilder.append("  }\n");
	stringBuilder.append("}\n");
	return(stringBuilder.toString());
}

public String getJsonString() {
	return(toJsonString());
}
</code></pre><p>The string methods are automatically generated for each model.  As the comment notes above, it is a work in progress.  Care must be taken when utilising this method on sensitive information contained within the model, e.g. passwords, credit card details etc.</p><p>The <code>getJsonString()</code> method signature above is for JSTL or templar referencing for output.</p><h4>Constant Models</h4><p><em>See the section on <a href="constants.html"><code>constants</code></a> for more information on how to generate them.</em></p><h4>Regular Models</h4><p></p></section></div><script src="javascripts/scale.fix.js"></script></body></html>